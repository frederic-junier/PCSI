<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Chenevois-Jouhet-Junier" />
  <title>Corrigé du TP de Révisions</title>
  <style type="text/css">
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="https://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>
  <script src="https://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div class="slide titlepage">
  <h1 class="title">Corrigé du TP de Révisions</h1>
  <p class="author">
Chenevois-Jouhet-Junier
  </p>
</div>
<div class="slide section level2">

<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
</div>
<div id="révisions-sur-les-boucles-les-tests-les-fonctions-les-listes" class="title-slide slide section level1">
<h1>Révisions sur les boucles, les tests, les fonctions, les listes</h1>

</div>
<div id="exercice-1-persistance-dun-entier" class="slide section level2">
<h1>Exercice 1 Persistance d’un entier</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw">def</span> decoupe(n):</span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="cf">return</span> n<span class="op">//</span><span class="dv">10</span>, n<span class="op">%</span><span class="dv">10</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    </span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="kw">def</span> chiffres(n):    </span>
<span id="cb2-7"><a href="#cb2-7"></a>    n, u <span class="op">=</span> decoupe(n)</span>
<span id="cb2-8"><a href="#cb2-8"></a>    t <span class="op">=</span> [u]</span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="cf">while</span> n <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb2-10"><a href="#cb2-10"></a>        n, u <span class="op">=</span> decoupe(n)</span>
<span id="cb2-11"><a href="#cb2-11"></a>        t.insert(<span class="dv">0</span>, u)</span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="cf">return</span> t</span>
<span id="cb2-13"><a href="#cb2-13"></a></span>
<span id="cb2-14"><a href="#cb2-14"></a><span class="kw">def</span> prod(n):</span>
<span id="cb2-15"><a href="#cb2-15"></a>    p <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>    c <span class="op">=</span> chiffres(n)</span>
<span id="cb2-17"><a href="#cb2-17"></a>    <span class="cf">for</span>  k <span class="kw">in</span> c:</span>
<span id="cb2-18"><a href="#cb2-18"></a>        p <span class="op">*=</span> k</span>
<span id="cb2-19"><a href="#cb2-19"></a>    <span class="cf">return</span> p</span>
<span id="cb2-20"><a href="#cb2-20"></a></span>
<span id="cb2-21"><a href="#cb2-21"></a><span class="kw">def</span> persistance(n):</span>
<span id="cb2-22"><a href="#cb2-22"></a>    k <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-23"><a href="#cb2-23"></a>    <span class="cf">while</span> n <span class="op">&gt;</span> <span class="dv">9</span>:</span>
<span id="cb2-24"><a href="#cb2-24"></a>        n <span class="op">=</span> prod(n)</span>
<span id="cb2-25"><a href="#cb2-25"></a>        k <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-26"><a href="#cb2-26"></a>    <span class="cf">return</span> k</span>
<span id="cb2-27"><a href="#cb2-27"></a>    </span>
<span id="cb2-28"><a href="#cb2-28"></a></span>
<span id="cb2-29"><a href="#cb2-29"></a><span class="kw">def</span> max_persistance(n):</span>
<span id="cb2-30"><a href="#cb2-30"></a>    m <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-31"><a href="#cb2-31"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>, n):</span>
<span id="cb2-32"><a href="#cb2-32"></a>        p <span class="op">=</span> persistance(k)</span>
<span id="cb2-33"><a href="#cb2-33"></a>        <span class="cf">if</span> p <span class="op">&gt;</span> m:</span>
<span id="cb2-34"><a href="#cb2-34"></a>            m <span class="op">=</span> p</span>
<span id="cb2-35"><a href="#cb2-35"></a>    <span class="cf">return</span> m</span>
<span id="cb2-36"><a href="#cb2-36"></a></span>
<span id="cb2-37"><a href="#cb2-37"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb2-38"><a href="#cb2-38"></a><span class="co">In [2]: max_persistance(1000)</span></span>
<span id="cb2-39"><a href="#cb2-39"></a><span class="co">Out[2]: 5</span></span>
<span id="cb2-40"><a href="#cb2-40"></a><span class="co">&quot;&quot;&quot;</span></span></code></pre></div>
</div>
<div id="exercice-2-recherche-simultanée-de-maximum-et-minimum" class="slide section level2">
<h1>Exercice 2 : Recherche simultanée de maximum et minimum</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">def</span> maxi(t):</span>
<span id="cb3-2"><a href="#cb3-2"></a>    <span class="co">&#39;&#39;&#39;Retourne le maximum d&#39;un tableau d&#39;entiers&#39;&#39;&#39;</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>    n <span class="op">=</span> <span class="bu">len</span>(t)</span>
<span id="cb3-4"><a href="#cb3-4"></a>    <span class="cf">if</span> <span class="bu">len</span>(t) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-5"><a href="#cb3-5"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>    M <span class="op">=</span> t[<span class="dv">0</span>]</span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb3-8"><a href="#cb3-8"></a>        element <span class="op">=</span> t[k]</span>
<span id="cb3-9"><a href="#cb3-9"></a>        <span class="cf">if</span> element <span class="op">&gt;</span> M:</span>
<span id="cb3-10"><a href="#cb3-10"></a>            M <span class="op">=</span> element</span>
<span id="cb3-11"><a href="#cb3-11"></a>    <span class="cf">return</span> M</span>
<span id="cb3-12"><a href="#cb3-12"></a></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="kw">def</span> mini(t):</span>
<span id="cb3-14"><a href="#cb3-14"></a>    <span class="co">&#39;&#39;&#39;Retourne le minimum d&#39;un tableau d&#39;entiers&#39;&#39;&#39;</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>    <span class="cf">if</span> <span class="bu">len</span>(t) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-16"><a href="#cb3-16"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>    m <span class="op">=</span> t[<span class="dv">0</span>]</span>
<span id="cb3-18"><a href="#cb3-18"></a>    <span class="cf">for</span> element <span class="kw">in</span> t[<span class="dv">1</span>:]:</span>
<span id="cb3-19"><a href="#cb3-19"></a>        <span class="cf">if</span> element <span class="op">&lt;</span> m:</span>
<span id="cb3-20"><a href="#cb3-20"></a>            m <span class="op">=</span> element</span>
<span id="cb3-21"><a href="#cb3-21"></a>    <span class="cf">return</span> m</span>
<span id="cb3-22"><a href="#cb3-22"></a></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="kw">def</span> extremum_simultane(L):</span>
<span id="cb3-24"><a href="#cb3-24"></a>    <span class="co">&#39;&#39;&#39;Recherche simultane du maximum et du minimum par paire</span></span>
<span id="cb3-25"><a href="#cb3-25"></a><span class="co">    Complexité linéaire, n/2 + 2*(n/2 - 1) = 3n/2 - 2 comparaisons&#39;&#39;&#39;</span></span>
<span id="cb3-26"><a href="#cb3-26"></a>    </span>
<span id="cb3-27"><a href="#cb3-27"></a>    <span class="kw">def</span> maxmin_paire(a, b):</span>
<span id="cb3-28"><a href="#cb3-28"></a>        <span class="cf">if</span> a <span class="op">&gt;</span> b:</span>
<span id="cb3-29"><a href="#cb3-29"></a>            <span class="cf">return</span> a, b</span>
<span id="cb3-30"><a href="#cb3-30"></a>        <span class="cf">return</span> b, a</span>
<span id="cb3-31"><a href="#cb3-31"></a>    </span>
<span id="cb3-32"><a href="#cb3-32"></a>    taille <span class="op">=</span> <span class="bu">len</span>(L)</span>
<span id="cb3-33"><a href="#cb3-33"></a>    <span class="co">#liste vide</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>    <span class="cf">if</span> taille <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-35"><a href="#cb3-35"></a>        <span class="cf">return</span></span>
<span id="cb3-36"><a href="#cb3-36"></a>    <span class="co">#liste de longueur impaire complété avec le dernier element doublé</span></span>
<span id="cb3-37"><a href="#cb3-37"></a>    <span class="cf">if</span> taille<span class="op">%</span><span class="dv">2</span> <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb3-38"><a href="#cb3-38"></a>        L.append(L[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb3-39"><a href="#cb3-39"></a>    <span class="co">#initialisation du maxcourant et du mincourant</span></span>
<span id="cb3-40"><a href="#cb3-40"></a>    maxcourant, mincourant <span class="op">=</span> maxmin_paire(L[<span class="dv">0</span>], L[<span class="dv">1</span>])</span>
<span id="cb3-41"><a href="#cb3-41"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, taille<span class="op">//</span><span class="dv">2</span>):</span>
<span id="cb3-42"><a href="#cb3-42"></a>        maxp, minp <span class="op">=</span> maxmin_paire(L[<span class="dv">2</span><span class="op">*</span>k], L[<span class="dv">2</span><span class="op">*</span>k <span class="op">+</span> <span class="dv">1</span>])</span>
<span id="cb3-43"><a href="#cb3-43"></a>        <span class="cf">if</span> maxp <span class="op">&gt;</span> maxcourant:</span>
<span id="cb3-44"><a href="#cb3-44"></a>            maxcourant <span class="op">=</span> maxp</span>
<span id="cb3-45"><a href="#cb3-45"></a>        <span class="cf">if</span> minp <span class="op">&lt;</span> mincourant:</span>
<span id="cb3-46"><a href="#cb3-46"></a>            mincourant <span class="op">=</span> minp</span>
<span id="cb3-47"><a href="#cb3-47"></a>    <span class="cf">return</span> mincourant, maxcourant</span>
<span id="cb3-48"><a href="#cb3-48"></a>    </span>
<span id="cb3-49"><a href="#cb3-49"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb3-50"><a href="#cb3-50"></a><span class="co">&gt;&gt;&gt; min_maxi([10,5,18,6])</span></span>
<span id="cb3-51"><a href="#cb3-51"></a><span class="co">(5, 18)</span></span>
<span id="cb3-52"><a href="#cb3-52"></a></span>
<span id="cb3-53"><a href="#cb3-53"></a><span class="co">&gt;&gt;&gt; min_maxi([10,5,18,6,843,-15,0])</span></span>
<span id="cb3-54"><a href="#cb3-54"></a><span class="co">(-15, 843)</span></span>
<span id="cb3-55"><a href="#cb3-55"></a><span class="co">&quot;&quot;&quot;</span></span></code></pre></div>
</div>
<div class="slide section level2">

<p><strong>Analyse de complexité</strong> (en nombre de comparaisons et par rapport à la taille <span class="math inline">\(n\)</span> du tableau <code>t</code> ) :</p>
<ul class="incremental">
<li><p>Pour les fonctions <code>maxi(t)</code> et <code>mini(t)</code>, il faut <span class="math inline">\(n\)</span> comparaisons si <span class="math inline">\(n\)</span> est la taille du tableau. Ces fonctions ont donc une complexité de <span class="math inline">\(n\)</span> donc en <span class="math inline">\(O(n)\)</span>.</p></li>
<li><p>Pour la recherche simultanée du minimum et du maximum :</p>
<ul class="incremental">
<li><p>Deux appels successifs à <code>maxi(t)</code> et <code>mini(t)</code> donnent une complexité de <span class="math inline">\(2n\)</span> donc en <span class="math inline">\(O(n)\)</span> mais avec une constante plus grande que la recherche d’un seul extremum.</p></li>
<li><p>Si on rassemble les comparaisons des deux boucles des fonctions dans une même boucle, le nombre de comparaisons de change pas.</p></li>
<li><p>En revanche la fonction <code>min_maxi(t)</code> effectue <span class="math inline">\(3\)</span> comparaisons par tour de boucles et environ <span class="math inline">\(\lfloor \frac{n}{2} \rfloor\)</span> tours de boucles soit environ <span class="math inline">\(\lfloor \frac{3n}{2} \rfloor\)</span> comparaisons. La complexité est en <span class="math inline">\(O(n)\)</span> mais avec une constante plus petite.</p></li>
</ul></li>
</ul>
</div>
<div class="slide section level2">

<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"></code></pre></div>
</div>
<div id="exercice-3-run-length-encoding" class="slide section level2">
<h1>Exercice 3 : Run-length encoding</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">def</span> compresse(u):</span>
<span id="cb5-2"><a href="#cb5-2"></a>    <span class="co">&quot;&quot;&quot;le premier élément est égal au premier élément de u (ici 1) ;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co"> ensuite, on indique le nombre de fois que cet élément est répété (ici 3) ;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co"> à chaque fois qu’une série se termine, on indique la longueur de la série suivante&quot;&quot;&quot;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>    courant <span class="op">=</span> u[<span class="dv">0</span>]</span>
<span id="cb5-6"><a href="#cb5-6"></a>    compteur <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    tc <span class="op">=</span> [courant]</span>
<span id="cb5-8"><a href="#cb5-8"></a>    k <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>    n <span class="op">=</span> <span class="bu">len</span>(u)</span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="cf">while</span> k <span class="op">&lt;</span> n:</span>
<span id="cb5-11"><a href="#cb5-11"></a>        <span class="cf">if</span> u[k] <span class="op">!=</span> courant:</span>
<span id="cb5-12"><a href="#cb5-12"></a>            tc.append(compteur)</span>
<span id="cb5-13"><a href="#cb5-13"></a>            compteur <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>            courant <span class="op">=</span> u[k]</span>
<span id="cb5-15"><a href="#cb5-15"></a>        <span class="cf">else</span>:</span>
<span id="cb5-16"><a href="#cb5-16"></a>            compteur <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>        k <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb5-18"><a href="#cb5-18"></a>    tc.append(compteur)</span>
<span id="cb5-19"><a href="#cb5-19"></a>    <span class="cf">return</span> tc</span>
<span id="cb5-20"><a href="#cb5-20"></a></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="kw">def</span> decompresse(v):</span>
<span id="cb5-22"><a href="#cb5-22"></a>    courant <span class="op">=</span> v[<span class="dv">0</span>]</span>
<span id="cb5-23"><a href="#cb5-23"></a>    u <span class="op">=</span> [courant]<span class="op">*</span>v[<span class="dv">1</span>]</span>
<span id="cb5-24"><a href="#cb5-24"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="bu">len</span>(v)):</span>
<span id="cb5-25"><a href="#cb5-25"></a>        courant <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> courant</span>
<span id="cb5-26"><a href="#cb5-26"></a>        u.extend([courant]<span class="op">*</span>v[k])</span>
<span id="cb5-27"><a href="#cb5-27"></a>    <span class="cf">return</span> u      </span>
<span id="cb5-28"><a href="#cb5-28"></a></span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co">In [3]: compresse([1, 1, 1, 0, 1, 0, 0, 1])</span></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="co">Out[3]: [1, 3, 1, 1, 2, 1]</span></span>
<span id="cb5-32"><a href="#cb5-32"></a></span>
<span id="cb5-33"><a href="#cb5-33"></a><span class="co">In [4]: decompresse([1, 3, 1, 1, 2, 1])</span></span>
<span id="cb5-34"><a href="#cb5-34"></a><span class="co">Out[4]: [1, 1, 1, 0, 1, 0, 0, 1]</span></span>
<span id="cb5-35"><a href="#cb5-35"></a><span class="co">&quot;&quot;&quot;</span></span></code></pre></div>
</div>
<div id="exercice-4-suite-diatomique-de-stern" class="slide section level2">
<h1>Exercice 4 Suite diatomique de Stern</h1>
<p>Citons Wikipedia :</p>
<p>Si l’on dispose la suite de Stern (en ommettant le premier terme 0) en lignes successives de 1, 2, 4, 8, … termes, comme dans la figure ci-dessous, il se présente des propriétés remarquables.</p>
<ul>
<li>La somme des termes de chaque ligne est une puissance de 3.</li>
<li>Les maxima de chaque ligne constituent la suite de Fibonacci.</li>
<li>Si on omet le 1 initial, chaque ligne est un palindrome.</li>
<li>Chaque colonne forme une suite arithmétique. La suite formée des raisons est la suite de Stern elle-même. Cela signifie que la suite de Stern dispose d’une structure fractale.</li>
</ul>
<div class="figure">
<img src="images/611px-Suite_Diatomique_Stern2.svg.png" alt="" />
<p class="caption">Crédits : Theon CC BY-SA</p>
</div>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a> </span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw">def</span> suite_diatomique(n):</span>
<span id="cb6-4"><a href="#cb6-4"></a>    t <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> (n <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>    t[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>    t[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, n, <span class="dv">2</span>):</span>
<span id="cb6-8"><a href="#cb6-8"></a>        t[k] <span class="op">=</span> t[k <span class="op">//</span> <span class="dv">2</span>]</span>
<span id="cb6-9"><a href="#cb6-9"></a>        t[k <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> t[k <span class="op">//</span> <span class="dv">2</span>] <span class="op">+</span> t[k <span class="op">//</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb6-10"><a href="#cb6-10"></a>    <span class="cf">return</span> t[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb6-11"><a href="#cb6-11"></a>    </span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="kw">def</span> suite_diatomiqueV2(n):</span>
<span id="cb6-13"><a href="#cb6-13"></a>    <span class="co">&quot;voir https://fr.wikipedia.org/wiki/Suite_diatomique_de_Stern&quot;</span></span>
<span id="cb6-14"><a href="#cb6-14"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb6-15"><a href="#cb6-15"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb6-16"><a href="#cb6-16"></a>    t <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">1</span>]   <span class="co">#initialisation de t avec u(1) et u(2)</span></span>
<span id="cb6-17"><a href="#cb6-17"></a>    indexmax <span class="op">=</span> <span class="dv">2</span> <span class="co">#index du dernier terme de la suite  dans t</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>    <span class="cf">while</span> indexmax <span class="op">&lt;</span> n:</span>
<span id="cb6-19"><a href="#cb6-19"></a>        indexmax <span class="op">=</span> indexmax <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb6-20"><a href="#cb6-20"></a>        t2 <span class="op">=</span> []</span>
<span id="cb6-21"><a href="#cb6-21"></a>        <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(t) <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb6-22"><a href="#cb6-22"></a>            t2.extend([t[k], t[k] <span class="op">+</span> t[k<span class="op">+</span><span class="dv">1</span>]])</span>
<span id="cb6-23"><a href="#cb6-23"></a>        t2.append(t[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb6-24"><a href="#cb6-24"></a>        t <span class="op">=</span> t2</span>
<span id="cb6-25"><a href="#cb6-25"></a>    <span class="cf">return</span> t[n <span class="op">-</span> indexmax <span class="op">//</span> <span class="dv">2</span>]</span>
<span id="cb6-26"><a href="#cb6-26"></a>    </span>
<span id="cb6-27"><a href="#cb6-27"></a><span class="kw">def</span> suite_diatomiqueV3(n):</span>
<span id="cb6-28"><a href="#cb6-28"></a>    <span class="co">&quot;avec fonction auxiliaire récursive et memoization dans un dictionnaire&quot;</span></span>
<span id="cb6-29"><a href="#cb6-29"></a></span>
<span id="cb6-30"><a href="#cb6-30"></a>    <span class="kw">def</span> aux(n):</span>
<span id="cb6-31"><a href="#cb6-31"></a>        <span class="cf">if</span> n <span class="kw">in</span> memo:</span>
<span id="cb6-32"><a href="#cb6-32"></a>            <span class="cf">return</span> memo[n]</span>
<span id="cb6-33"><a href="#cb6-33"></a>        <span class="cf">elif</span> n <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb6-34"><a href="#cb6-34"></a>            memo[n] <span class="op">=</span> aux(n <span class="op">//</span> <span class="dv">2</span>)</span>
<span id="cb6-35"><a href="#cb6-35"></a>            <span class="cf">return</span> memo[n]</span>
<span id="cb6-36"><a href="#cb6-36"></a>        <span class="cf">else</span>:</span>
<span id="cb6-37"><a href="#cb6-37"></a>            memo[n] <span class="op">=</span> aux(n <span class="op">//</span> <span class="dv">2</span>) <span class="op">+</span>  aux(n <span class="op">//</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb6-38"><a href="#cb6-38"></a>            <span class="cf">return</span> memo[n]</span>
<span id="cb6-39"><a href="#cb6-39"></a></span>
<span id="cb6-40"><a href="#cb6-40"></a>    memo <span class="op">=</span> {<span class="dv">0</span> : <span class="dv">0</span>, <span class="dv">1</span> : <span class="dv">1</span>}</span>
<span id="cb6-41"><a href="#cb6-41"></a>    <span class="cf">return</span> aux(n)</span>
<span id="cb6-42"><a href="#cb6-42"></a>    </span>
<span id="cb6-43"><a href="#cb6-43"></a><span class="kw">def</span> suite_diatomiqueV4(n):</span>
<span id="cb6-44"><a href="#cb6-44"></a>    decomposition <span class="op">=</span> [n]</span>
<span id="cb6-45"><a href="#cb6-45"></a>    terme <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb6-46"><a href="#cb6-46"></a>    <span class="cf">while</span> <span class="bu">len</span>(decomposition) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb6-47"><a href="#cb6-47"></a>        newdecomposition <span class="op">=</span> []</span>
<span id="cb6-48"><a href="#cb6-48"></a>        <span class="cf">for</span> m <span class="kw">in</span> decomposition:</span>
<span id="cb6-49"><a href="#cb6-49"></a>            quotient, reste <span class="op">=</span> m <span class="op">//</span> <span class="dv">2</span>, m <span class="op">%</span> <span class="dv">2</span></span>
<span id="cb6-50"><a href="#cb6-50"></a>            <span class="cf">if</span> reste <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb6-51"><a href="#cb6-51"></a>                <span class="cf">if</span> quotient <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb6-52"><a href="#cb6-52"></a>                    terme <span class="op">=</span> terme <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb6-53"><a href="#cb6-53"></a>                <span class="cf">else</span>:</span>
<span id="cb6-54"><a href="#cb6-54"></a>                    newdecomposition.append(quotient)</span>
<span id="cb6-55"><a href="#cb6-55"></a>            <span class="cf">else</span>:</span>
<span id="cb6-56"><a href="#cb6-56"></a>                <span class="cf">if</span> quotient <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb6-57"><a href="#cb6-57"></a>                    terme <span class="op">=</span> terme <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb6-58"><a href="#cb6-58"></a>                    newdecomposition.append(quotient <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb6-59"><a href="#cb6-59"></a>                <span class="cf">else</span>:</span>
<span id="cb6-60"><a href="#cb6-60"></a>                    newdecomposition.extend([quotient, quotient <span class="op">+</span> <span class="dv">1</span>])</span>
<span id="cb6-61"><a href="#cb6-61"></a>        decomposition <span class="op">=</span> newdecomposition</span>
<span id="cb6-62"><a href="#cb6-62"></a>    <span class="cf">return</span> terme</span>
<span id="cb6-63"><a href="#cb6-63"></a></span>
<span id="cb6-64"><a href="#cb6-64"></a></span>
<span id="cb6-65"><a href="#cb6-65"></a><span class="co"># In [36]: [suite_diatomique(k) for k in range(10)]</span></span>
<span id="cb6-66"><a href="#cb6-66"></a><span class="co"># Out[36]: [0, 1, 1, 2, 1, 3, 2, 3, 1, 4]</span></span>
<span id="cb6-67"><a href="#cb6-67"></a>  </span>
<span id="cb6-68"><a href="#cb6-68"></a><span class="co"># &gt;&gt;&gt; suite_diatomique(10000001)</span></span>
<span id="cb6-69"><a href="#cb6-69"></a><span class="co">#9469</span></span></code></pre></div>
</div>
<div id="exercice-5-suite-de-fibonaccci" class="slide section level2">
<h1>Exercice 5 Suite de Fibonaccci</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">def</span> fibonachiffres(n):</span>
<span id="cb7-3"><a href="#cb7-3"></a>    <span class="co">&quot;&quot;&quot;Retourne le rang du premier terme de la suite de Fibonacci avec n chiffres&quot;&quot;&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>    fibo <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">1</span>]</span>
<span id="cb7-5"><a href="#cb7-5"></a>    rang <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>    puissance10 <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>    nbchiffres <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="cf">while</span> nbchiffres <span class="op">&lt;</span> n:</span>
<span id="cb7-9"><a href="#cb7-9"></a>        rang <span class="op">=</span> rang <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>        fibo[<span class="dv">0</span>], fibo[<span class="dv">1</span>] <span class="op">=</span> fibo[<span class="dv">1</span>], fibo[<span class="dv">0</span>] <span class="op">+</span> fibo[<span class="dv">1</span>]</span>
<span id="cb7-11"><a href="#cb7-11"></a>        <span class="cf">if</span> fibo[<span class="dv">0</span>] <span class="op">&gt;=</span> puissance10:</span>
<span id="cb7-12"><a href="#cb7-12"></a>            nbchiffres <span class="op">=</span> nbchiffres <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>            puissance10 <span class="op">=</span> puissance10 <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="cf">return</span> rang</span>
<span id="cb7-15"><a href="#cb7-15"></a></span>
<span id="cb7-16"><a href="#cb7-16"></a><span class="co"># In [5]: fibonachiffres(2020)</span></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co"># Out[5]: 9663</span></span></code></pre></div>
</div>
<div id="exercice-6-entiers-palindromes" class="slide section level2">
<h1>Exercice 6 Entiers palindromes</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="kw">def</span> nombre2chiffres(n, b):</span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="co">&quot;Retourne la liste des chiffres en base b de n&quot;</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    t <span class="op">=</span> []</span>
<span id="cb8-5"><a href="#cb8-5"></a>    <span class="cf">while</span> n <span class="op">&gt;=</span> b:        </span>
<span id="cb8-6"><a href="#cb8-6"></a>        t.append(n <span class="op">%</span> b)</span>
<span id="cb8-7"><a href="#cb8-7"></a>        n <span class="op">=</span> n <span class="op">//</span> b</span>
<span id="cb8-8"><a href="#cb8-8"></a>    t.append(n)</span>
<span id="cb8-9"><a href="#cb8-9"></a>    <span class="cf">return</span> t[::<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb8-10"><a href="#cb8-10"></a>    </span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="kw">def</span>  chiffres2nombre(chiffres, base <span class="op">=</span> <span class="dv">10</span>):</span>
<span id="cb8-12"><a href="#cb8-12"></a>    <span class="co">&quot;Avec l&#39;algorithme d&#39;Horner&quot;</span></span>
<span id="cb8-13"><a href="#cb8-13"></a>    nombre <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(chiffres)):</span>
<span id="cb8-15"><a href="#cb8-15"></a>        nombre <span class="op">=</span> nombre <span class="op">*</span> base <span class="op">+</span> chiffres[k]</span>
<span id="cb8-16"><a href="#cb8-16"></a>    <span class="cf">return</span> nombre</span>
<span id="cb8-17"><a href="#cb8-17"></a></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="kw">def</span> palindrome(liste):</span>
<span id="cb8-19"><a href="#cb8-19"></a>    n <span class="op">=</span> <span class="bu">len</span>(liste)</span>
<span id="cb8-20"><a href="#cb8-20"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">//</span> <span class="dv">2</span>):</span>
<span id="cb8-21"><a href="#cb8-21"></a>        <span class="cf">if</span> liste[k] <span class="op">!=</span> liste[n <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> k]:</span>
<span id="cb8-22"><a href="#cb8-22"></a>            <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb8-23"><a href="#cb8-23"></a>    <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb8-24"><a href="#cb8-24"></a>    </span>
<span id="cb8-25"><a href="#cb8-25"></a><span class="kw">def</span> somme_palindrome_dix_deux(bsup):</span>
<span id="cb8-26"><a href="#cb8-26"></a>    <span class="co">&quot;Retourne la somme des entiers &lt; bsup et palindromes dans les bases 10 et 2&quot;</span></span>
<span id="cb8-27"><a href="#cb8-27"></a>    s <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-28"><a href="#cb8-28"></a>    <span class="cf">for</span> n <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, bsup):</span>
<span id="cb8-29"><a href="#cb8-29"></a>        <span class="cf">if</span> palindrome(nombre2chiffres(n, <span class="dv">10</span>)) <span class="kw">and</span> palindrome(nombre2chiffres(n, <span class="dv">2</span>)):</span>
<span id="cb8-30"><a href="#cb8-30"></a>            s <span class="op">=</span> s <span class="op">+</span> n</span>
<span id="cb8-31"><a href="#cb8-31"></a>    <span class="cf">return</span> s</span>
<span id="cb8-32"><a href="#cb8-32"></a>    </span>
<span id="cb8-33"><a href="#cb8-33"></a><span class="co"># In [15]: somme_palindrome_dix_deux(10**7)</span></span>
<span id="cb8-34"><a href="#cb8-34"></a><span class="co"># Out[15]: 25846868</span></span>
<span id="cb8-35"><a href="#cb8-35"></a>    </span></code></pre></div>
<p>#Critère de divisibilité par 7</p>
</div>
<div id="exercice-7" class="slide section level2">
<h1>Exercice 7</h1>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="kw">def</span> divisible7(n):</span>
<span id="cb9-3"><a href="#cb9-3"></a>    <span class="co">&quot;&quot;&quot;Retourne un booléen indiquant si n divisible par 7&quot;&quot;&quot;</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>    bleu <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">4</span>]</span>
<span id="cb9-5"><a href="#cb9-5"></a>    noir <span class="op">=</span> [(k <span class="op">+</span> <span class="dv">1</span>)<span class="op">%</span><span class="dv">7</span> <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">7</span>)]</span>
<span id="cb9-6"><a href="#cb9-6"></a>    chiffres <span class="op">=</span> nombre2chiffres(n, <span class="dv">10</span>)</span>
<span id="cb9-7"><a href="#cb9-7"></a>    nbchiffres <span class="op">=</span> <span class="bu">len</span>(chiffres)</span>
<span id="cb9-8"><a href="#cb9-8"></a>    sommet <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(nbchiffres):</span>
<span id="cb9-10"><a href="#cb9-10"></a>        c <span class="op">=</span> chiffres[i]</span>
<span id="cb9-11"><a href="#cb9-11"></a>        sommet <span class="op">=</span> bleu[sommet]</span>
<span id="cb9-12"><a href="#cb9-12"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(c):</span>
<span id="cb9-13"><a href="#cb9-13"></a>            sommet <span class="op">=</span> noir[sommet]</span>
<span id="cb9-14"><a href="#cb9-14"></a>    <span class="cf">return</span> sommet <span class="op">==</span> <span class="dv">0</span></span></code></pre></div>
<p>Les arêtes en trait plein relient les sommets étiquetés par les restes successifs de la division euclidienne d’un entier naturel par 7, lorsqu’on passe d’un entier au suivant en ajoutant 1.</p>
<p>Les arêtes en pointillées relient les sommets étiquetés par les restes successifs de la division euclidienne d’un entier naturel par 7, lorsqu’on passe d’un entier au suivant en multipliant par 10.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># In [20]: [(10 ** k) % 7 for k in range(7)]</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="co"># Out[20]: [1, 3, 2, 6, 4, 5, 1]</span></span></code></pre></div>
<p>Soit un entier <span class="math inline">\(n\)</span> donc la suite des chiffres en base dix est <span class="math inline">\(c_{1}c_{2}\ldots c_{k}\)</span> par ordre décroissant des puissances de dix associées.</p>
<p>D’après l’algorithme d’Horner, <span class="math inline">\(n\)</span> est le terme <span class="math inline">\(u_{k}\)</span> de la suite définie par : <span class="math inline">\(u_{0}=0\)</span> et <span class="math inline">\(u_{p+1}=10 \times u_{p} + c_{p + 1}\)</span>.</p>
<p><strong>Démontrons la correction de la fonction <code>divisible7</code></strong></p>
<ul>
<li><p>On considère l’invariant de boucle I(p)= “Après l’itération d’index <span class="math inline">\(p\)</span>, on se trouve sur le sommet étiqueté par le reste de la division euclidienne par 7 de <span class="math inline">\(u_{p}\)</span>”</p></li>
<li><p>I(0) est vrai, l’invariant est vrai avant l’entrée dans la boucle (<em>précondition</em>).</p></li>
<li><p>Supposons que I(p) soit vrai, c’est-à-dire qu’on se trouve au sommet étiqueté par <span class="math inline">\(u_{p}\)</span> modulo 7. Comme on a <span class="math inline">\(u_{p+1}=10 \times u_{p} + c_{p + 1}\)</span>, le parcours de la flèche en pointillés issue du sommet, nous amène au sommet étiqueté par <span class="math inline">\(10 \times u_{p}\)</span> modulo 7. Le parcours de <span class="math inline">\(c_{p+1}\)</span> flèches en traits pleins, nous amène ensuite au sommet étiqueté par <span class="math inline">\(10 \times u_{p} + c_{p+1}=u_{p+1}\)</span> modulo 7. <strong>L’invariant est donc conservé</strong>.</p></li>
<li><p><strong>De plus la boucle se termine car l’entier <span class="math inline">\(n\)</span> comporte un nombre fini de chiffres. Par conservation de l’invariant, il est vrai en sortie de boucle (<em>postcondition</em>) ce qui prouve la correction de l’algorithme</strong>.</p></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a>    </span></code></pre></div>
</div>

<div id="algorithme-glouton" class="title-slide slide section level1">
<h1>Algorithme glouton</h1>

</div>
<div id="exercice-9-rendu-de-monnaie-glouton" class="slide section level2">
<h1>Exercice 9 : rendu de monnaie glouton</h1>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="kw">def</span> rendu_monnaie_glouton(somme, systeme):</span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="co">&quot;&quot;&quot;Retourne la décomposition de somme sous forme</span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">    d&#39;une liste de pieces choisies par les pièces de la liste  systeme.&quot;&quot;&quot;</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="co">#tri des pièces du systeme par ordre decroissant de valeurs</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>    systeme_copie <span class="op">=</span> <span class="bu">sorted</span>(systeme, reverse <span class="op">=</span> <span class="va">True</span>)  </span>
<span id="cb12-7"><a href="#cb12-7"></a>    rendu <span class="op">=</span> []</span>
<span id="cb12-8"><a href="#cb12-8"></a>    <span class="cf">for</span> idpiece <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(systeme_copie)):</span>
<span id="cb12-9"><a href="#cb12-9"></a>        piece <span class="op">=</span> systeme_copie[idpiece]</span>
<span id="cb12-10"><a href="#cb12-10"></a>        <span class="cf">while</span> somme <span class="op">&gt;=</span> piece:</span>
<span id="cb12-11"><a href="#cb12-11"></a>            somme <span class="op">=</span> somme <span class="op">-</span> piece</span>
<span id="cb12-12"><a href="#cb12-12"></a>            rendu.append(piece)</span>
<span id="cb12-13"><a href="#cb12-13"></a>    <span class="co">#postcondition</span></span>
<span id="cb12-14"><a href="#cb12-14"></a>    <span class="cf">assert</span> somme <span class="op">==</span> <span class="dv">0</span>, <span class="st">&quot;Rendu impossible&quot;</span></span>
<span id="cb12-15"><a href="#cb12-15"></a>    <span class="cf">return</span> rendu</span>
<span id="cb12-16"><a href="#cb12-16"></a></span>
<span id="cb12-17"><a href="#cb12-17"></a><span class="co"># In [7]: rendu_monnaie_glouton(520, [1, 2, 5, 10, 20, 50, 100, 200])</span></span>
<span id="cb12-18"><a href="#cb12-18"></a><span class="co"># Out[7]: [200, 200, 100, 20]</span></span>
<span id="cb12-19"><a href="#cb12-19"></a></span>
<span id="cb12-20"><a href="#cb12-20"></a><span class="co">#Crash le rendu de monnaie est impossible dans ce système</span></span>
<span id="cb12-21"><a href="#cb12-21"></a><span class="co">#alors qu&#39;il existe une solution minimale : 10 + 10  + 10 + 10 + 5 + 2 + 2 + 2</span></span>
<span id="cb12-22"><a href="#cb12-22"></a><span class="co"># In [19]: rendu_monnaie_glouton(51, [2, 5, 10, 50, 100])</span></span>
<span id="cb12-23"><a href="#cb12-23"></a><span class="co"># ---------------------------------------------------------------------------</span></span>
<span id="cb12-24"><a href="#cb12-24"></a><span class="co"># AssertionError                            Traceback (most recent call last)</span></span>
<span id="cb12-25"><a href="#cb12-25"></a><span class="co"># &lt;ipython-input-19-9108a4c669ac&gt; in &lt;module&gt;</span></span>
<span id="cb12-26"><a href="#cb12-26"></a><span class="co"># ----&gt; 1 rendu_monnaie_glouton(51, [2, 5, 10, 50, 100])</span></span>
<span id="cb12-27"><a href="#cb12-27"></a><span class="co"># </span></span>
<span id="cb12-28"><a href="#cb12-28"></a><span class="co"># </span></span>
<span id="cb12-29"><a href="#cb12-29"></a><span class="co"># AssertionError: Rendu impossible</span></span>
<span id="cb12-30"><a href="#cb12-30"></a></span>
<span id="cb12-31"><a href="#cb12-31"></a></span></code></pre></div>
</div>
<div id="exercice-10-complexité-du-rendu-de-monnaie-glouton" class="slide section level2">
<h1>Exercice 10 : complexité du rendu de monnaie glouton</h1>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb13-4"><a href="#cb13-4"></a></span>
<span id="cb13-5"><a href="#cb13-5"></a>systeme <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>]</span>
<span id="cb13-6"><a href="#cb13-6"></a>plt.figure(figsize <span class="op">=</span> (<span class="dv">15</span>,<span class="dv">15</span>))</span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="cf">for</span> i, bsup <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="dv">1000</span>,<span class="dv">10000</span>,<span class="dv">50000</span>,<span class="dv">100000</span>]):</span>
<span id="cb13-8"><a href="#cb13-8"></a>    plt.subplot(<span class="dv">2</span>,<span class="dv">2</span>,i <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb13-9"><a href="#cb13-9"></a>    les_sommes <span class="op">=</span> np.arange(bsup <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb13-10"><a href="#cb13-10"></a>    les_rendus <span class="op">=</span> [<span class="bu">len</span>(rendu_monnaie_glouton(somme, systeme)) <span class="cf">for</span> somme <span class="kw">in</span> les_sommes]</span>
<span id="cb13-11"><a href="#cb13-11"></a>    plt.plot(les_sommes, les_rendus, label <span class="op">=</span> <span class="st">&#39;Nombre de pièces&#39;</span>)</span>
<span id="cb13-12"><a href="#cb13-12"></a>    plt.ylabel(<span class="st">&#39;Nombre de pièces&#39;</span>)</span>
<span id="cb13-13"><a href="#cb13-13"></a>    plt.xlabel(<span class="st">&#39;Somme&#39;</span>)</span>
<span id="cb13-14"><a href="#cb13-14"></a>    plt.title(<span class="st">&#39;Somme maximale = </span><span class="sc">{}</span><span class="st">&#39;</span>.<span class="bu">format</span>(bsup))</span>
<span id="cb13-15"><a href="#cb13-15"></a>    plt.plot([<span class="dv">0</span>,bsup],[<span class="dv">0</span>, bsup <span class="op">//</span> systeme[<span class="op">-</span><span class="dv">1</span>]],</span>
<span id="cb13-16"><a href="#cb13-16"></a>            label <span class="op">=</span><span class="vs">r&#39;$y =\frac{\mathrm</span><span class="sc">{somme}</span><span class="vs">}{\mathrm</span><span class="sc">{piece}</span><span class="vs">_</span><span class="sc">{max}</span><span class="vs">}$&#39;</span>)</span>
<span id="cb13-17"><a href="#cb13-17"></a>    plt.legend(loc<span class="op">=</span><span class="st">&#39;lower right&#39;</span>)</span>
<span id="cb13-18"><a href="#cb13-18"></a>plt.savefig(<span class="st">&#39;complexite-glouton.pdf&#39;</span>)</span>
<span id="cb13-19"><a href="#cb13-19"></a>plt.show()</span>
<span id="cb13-20"><a href="#cb13-20"></a></span>
<span id="cb13-21"><a href="#cb13-21"></a></span></code></pre></div>
</div>
<div id="exercice-11-marche-aléatoire-et-fougère-de-barnsley" class="slide section level2">
<h1>Exercice 11 : marche aléatoire et fougère de Barnsley</h1>
<p>A propos de la fougère de Barnsley, on pourra consulter <a href="https://fr.wikipedia.org/wiki/Foug%C3%A8re_de_Barnsley">https://fr.wikipedia.org/wiki/Foug%C3%A8re_de_Barnsley</a>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="im">from</span> random <span class="im">import</span> random</span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="kw">def</span> f1(x, y):</span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="cf">return</span> (<span class="dv">0</span>, <span class="fl">0.16</span><span class="op">*</span>y)</span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="kw">def</span> f2(x, y):</span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="cf">return</span> (<span class="fl">0.85</span><span class="op">*</span>x <span class="op">+</span> <span class="fl">0.04</span><span class="op">*</span>y, <span class="fl">-0.04</span><span class="op">*</span>x <span class="op">+</span> <span class="fl">0.85</span><span class="op">*</span>y <span class="op">+</span> <span class="fl">1.6</span>)</span>
<span id="cb14-8"><a href="#cb14-8"></a></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="kw">def</span> f3(x, y):</span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="cf">return</span> (<span class="fl">0.2</span><span class="op">*</span>x <span class="op">-</span> <span class="fl">0.26</span><span class="op">*</span>y, <span class="fl">0.23</span><span class="op">*</span>x <span class="op">+</span> <span class="fl">0.22</span><span class="op">*</span>y <span class="op">+</span> <span class="fl">1.6</span>)</span>
<span id="cb14-11"><a href="#cb14-11"></a></span>
<span id="cb14-12"><a href="#cb14-12"></a><span class="kw">def</span> f4(x, y):</span>
<span id="cb14-13"><a href="#cb14-13"></a>    <span class="cf">return</span> (<span class="op">-</span><span class="fl">0.15</span><span class="op">*</span>x <span class="op">+</span> <span class="fl">0.28</span><span class="op">*</span>y, <span class="fl">0.26</span><span class="op">*</span>x <span class="op">+</span> <span class="fl">0.24</span><span class="op">*</span>y <span class="op">+</span> <span class="fl">0.44</span>)</span>
<span id="cb14-14"><a href="#cb14-14"></a></span>
<span id="cb14-15"><a href="#cb14-15"></a><span class="kw">def</span> choixfonction():</span>
<span id="cb14-16"><a href="#cb14-16"></a>    alea <span class="op">=</span> random()</span>
<span id="cb14-17"><a href="#cb14-17"></a>    <span class="cf">if</span> alea <span class="op">&lt;</span> <span class="fl">0.01</span>:</span>
<span id="cb14-18"><a href="#cb14-18"></a>        <span class="cf">return</span> f1</span>
<span id="cb14-19"><a href="#cb14-19"></a>    <span class="cf">elif</span> alea <span class="op">&lt;</span> <span class="fl">0.86</span>:</span>
<span id="cb14-20"><a href="#cb14-20"></a>        <span class="cf">return</span> f2</span>
<span id="cb14-21"><a href="#cb14-21"></a>    <span class="cf">elif</span> alea <span class="op">&lt;</span> <span class="fl">0.93</span>:</span>
<span id="cb14-22"><a href="#cb14-22"></a>        <span class="cf">return</span> f3</span>
<span id="cb14-23"><a href="#cb14-23"></a>    <span class="cf">return</span> f4</span>
<span id="cb14-24"><a href="#cb14-24"></a></span>
<span id="cb14-25"><a href="#cb14-25"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb14-26"><a href="#cb14-26"></a><span class="co">In [16]: sum([1 for k in range(1000) if choixfonction().__name__ == &#39;f2&#39; ])/1000</span></span>
<span id="cb14-27"><a href="#cb14-27"></a><span class="co">Out[16]: 0.851</span></span>
<span id="cb14-28"><a href="#cb14-28"></a><span class="co">&quot;&quot;&quot;</span></span>
<span id="cb14-29"><a href="#cb14-29"></a></span>
<span id="cb14-30"><a href="#cb14-30"></a><span class="kw">def</span> marche_aleatoire(n):</span>
<span id="cb14-31"><a href="#cb14-31"></a>    <span class="co">&quot;&quot;&quot;Retourne les  couples de coordonnées des différents points du parcours</span></span>
<span id="cb14-32"><a href="#cb14-32"></a><span class="co">    lors d&#39;une marche aléatoire de n pas&quot;&quot;&quot;</span></span>
<span id="cb14-33"><a href="#cb14-33"></a>    (x, y) <span class="op">=</span> (<span class="dv">2</span> <span class="op">*</span> random() <span class="op">-</span> <span class="dv">1</span>,<span class="dv">2</span> <span class="op">*</span> random() <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb14-34"><a href="#cb14-34"></a>    lesx <span class="op">=</span> [x]</span>
<span id="cb14-35"><a href="#cb14-35"></a>    lesy <span class="op">=</span> [y]</span>
<span id="cb14-36"><a href="#cb14-36"></a>    <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb14-37"><a href="#cb14-37"></a>        (x, y) <span class="op">=</span> choixfonction()(x, y)</span>
<span id="cb14-38"><a href="#cb14-38"></a>        lesx.append(x)</span>
<span id="cb14-39"><a href="#cb14-39"></a>        lesy.append(y)</span>
<span id="cb14-40"><a href="#cb14-40"></a>    <span class="cf">return</span> lesx, lesy</span>
<span id="cb14-41"><a href="#cb14-41"></a></span>
<span id="cb14-42"><a href="#cb14-42"></a><span class="kw">def</span> exo14():</span>
<span id="cb14-43"><a href="#cb14-43"></a>    (lesx, lesy) <span class="op">=</span> marche_aleatoire(<span class="dv">10000</span>)</span>
<span id="cb14-44"><a href="#cb14-44"></a>    plt.axis(<span class="st">&#39;equal&#39;</span>) <span class="co">#repère orthonormal</span></span>
<span id="cb14-45"><a href="#cb14-45"></a>    plt.plot(lesx, lesy, <span class="st">&#39;k,&#39;</span>) <span class="co">#affichage sous forme de pixels noirs</span></span>
<span id="cb14-46"><a href="#cb14-46"></a>    plt.show()</span>
<span id="cb14-47"><a href="#cb14-47"></a>    plt.savefig(<span class="st">&#39;marche1000.png&#39;</span>)</span>
<span id="cb14-48"><a href="#cb14-48"></a></span></code></pre></div>
</div>
</body>
</html>
